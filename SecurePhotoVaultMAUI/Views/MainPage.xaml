<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:SecurePhotoVaultMAUI.ViewModels"
             x:Class="SecurePhotoVaultMAUI.Views.MainPage">
    
    <ContentPage.BindingContext>
        <vm:MainPageViewModel />
    </ContentPage.BindingContext>
    
    <ContentPage.ToolbarItems>
        <ToolbarItem Text="Log ud" Command="{Binding LogoutCommand}" />
    </ContentPage.ToolbarItems>
    
    <VerticalStackLayout Padding="20">
        <Button Text="Vælg billede og krypter" Command="{Binding EncryptCommand}" />
        <Button Text="Dekryptér billede" Command="{Binding DecryptCommand}" IsVisible="{Binding IsLoggedIn}" />
        <Button Text="Log ud" Command="{Binding LogoutCommand}" />
    

    <CollectionView ItemsSource="{Binding Images}" Margin="10">
        <CollectionView.ItemTemplate>
            <DataTemplate>
                <Frame BorderColor="Gray" Padding="5" Margin="5">
                    <Image Source="{Binding FilePath}" Aspect="AspectFill" HeightRequest="200" />
                </Frame>
            </DataTemplate>
        </CollectionView.ItemTemplate>
    </CollectionView>
    </VerticalStackLayout>
</ContentPage>
